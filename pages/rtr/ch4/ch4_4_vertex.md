---
title: "顶点混合"
sidebar: rtr
layout: book
permalink: rtr_ch4_vertex.html
summary: 第四章.
---

### 4.4 顶点混合
想象一个数字角色的胳膊可以使用两个部分来做动画，上臂和前臂，如图4.10中左边显示。

![图](/images/RTR3.04.10.png)

(<font color="DarkGoldenRod">图4.10. 左图中，一个胳膊使用一个前臂和上臂来变换刚体动画。关节显的不真实。右图中，对单个对象使用了顶点混合。右二图展示了简单的关节变换。最右展示了顶点混合的使用，不同的顶点使用不同的权重来融合。（2/3, 1/3)表示该点的变换，上臂的变换占2/3，前臂占1/3。最右图还展示了顶点融合的缺点。这里，内部可折叠部分也会被看到。更多的骨骼和更精心挑选的权重可以达到更好的效果。</font>)

这个模型可以使用刚体变换来完成动画(见4.16节)。不过这样两个部分的连接跟真实的肘关节就很不像了。这是因为使用了两个不同的对象，而且关节由两个独立部分的重复部分构成。很明显，只使用单个对象会更好。不管怎样，模型的静态部分不需要关心如何让关节灵活变换的问题。

`顶点混合`是解决关节问题的一个可行方案。这个技术还有一些其他名字，比如`蒙皮(skinning)，包络(enveloping),和骨骼空间变形(skeleton-subspace deformation)`。这个算法的来源已经不清楚了，但在计算机动画领域，骨骼以及蒙皮的变换已经是广为人知的概念了。在它的简单形式中，前臂和上臂跟之前一样独立动画，不过在连接点，两个部分使用一个弹性的皮肤来连接。所以，这个弹性部分的一部分顶点可以使用前臂的矩阵来变换，另一部分则可以用上臂的矩阵来变换。与每个三角形都用单个矩阵来变换相比，这个结果会导致某些三角形的顶点使用不同的矩阵来变换，见图4.10.这个基础技术有时也叫`stitching`






