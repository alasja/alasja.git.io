---
title: "架构"
keywords: sample homepage
tags: [getting_started]
sidebar: rtr
layout: book
permalink: rtr_ch2_architecture.html
summary: 渲染管线。
---

"决定链条强度的是它最弱的部分"        -- 佚名


这章我们要开始接触实时渲染的核心部分：图像渲染管线，有时候也就叫管线。管线是干嘛的呢，给定一个摄像机，一些三维对象、光源，指定渲染方式，纹理以及其他东西，然后得到一个二维图像。2.1节介绍具体的处理过程。最终图像上的绘制对象的形状和位置是怎么得到呢？对象的几何属性，环境特征以及相机的位置都会有影响。对象的表现则受材质属性、光源、纹理、渲染模式的影响。

我们会讨论渲染管线的各个阶段的功能，他们的具体实现就不讨论了。后面也不会讨论这些实现细节，因为开发者也没法控制他们。举例栗子，开发者绘制线的时候关心的是顶点数据格式、颜色、模式等等，而不会关心线条是使用 Bresenham的画线算法实现的，或其他什么双步对称算法。通常这些阶段实现在不可操作的硬件部分，所以也没法优化或改进他们的实现。《Rogers[1077]》中深入探讨了基础绘制和填充算法。虽然我们可能可以稍稍控制一下底层硬件，但是算法和实现函数对生成图像的速度和质量意义更加重大。

![图1](/images/figure2_0_1.png)
图2.1 在左图，虚拟相机在上面线条交汇的地方。只有在可视范围的图元会被绘制，最终投影绘制成图片。可视范围就是平截头体。右图就是相机看到的图像。注意红色的圈在可视范围外面，所以没有被绘制。



## 2.1 架构
在现实世界，流水线(译注：这里说流水线比较容易理解)有各种不同的形式，从工厂生产线到滑雪吊椅运作等等。它也表示图形渲染。

管线一般都分为多个阶段。比如说，一个石油管道，在第一段管道里的石油，必须要等第二段管道里的石油流到第三段管道之后，才能流进第二管道等等。整个管道的速度受限于最慢的部分。

